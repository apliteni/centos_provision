- name: Verify role
  hosts: all
  vars:
    swap_file_path: /swap
  tasks:
    - name: Get swap file stats
      stat:
        path: "{{ swap_file_path }}"
      register: swap_file_info

    - name: Test swap file is present
      debug:
        var: swap_file_info
      failed_when: not swap_file_info.stat.exists

